{% load static %}

<div class="modal-dialog modal-lg">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">Seleccione un visador</h5>
      <button type="button" class="close" data-dismiss="modal">
        <span>&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form action="" method="post" id="form_assign_visador">
        {% csrf_token %}
        <div class="alert alert-primary text-center div-loading" id="ld-alert">
          Cargando visadores
        </div>

        <div id="visadores">
        </div>

        <!--
        <input class="form-control mb-2" placeholder="Buscar visador" id="input_visador_buscar" style="display:none;">
        -->

        <div class="alert alert-warning text-center " id="alert_already_chosen" style="display:none;">
          Visador seleccionado es el actual visador
        </div>

        <div class="modal-footer">
          <input id="modal_assign_visador_appraisal_id" name="appraisal_id" type="hidden" value="">
          <input id="modal_assign_visador_appraisal_visador_id" name="appraisal_visador_id" type="hidden" value="{{appraisal.visadorUser.id}}">
          <input id="modal_assign_visador_source_table" name="parent" type="hidden" value="">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
          {% if appraisal.visadorUser %}
          <button type="button" id="btn_unassign_visador" name="btn_unassign_visador" class="btn btn-danger ld-ext-right">
            Desasignar
            <div class="ld ld-ring ld-spin"></div>
          </button>
          {% endif %}
          <button type="button" id="btn_assign_visador" name="btn_assign_visador" class="btn btn-primary ld-ext-right">
            Asignar
            <div class="ld ld-ring ld-spin"></div>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<script src="{% static 'list/js/modal_assign_visador.js' %}" type="text/javascript"></script>